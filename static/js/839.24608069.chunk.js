"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[839],{839:(e,s,l)=>{l.r(s),l.d(s,{default:()=>o});var a=l(43),r=l(315),d=l(213),t=l(694),i=l(3),n=l(579);const c=()=>(0,n.jsxs)("div",{className:"animate-pulse flex flex-col space-y-4 p-6 bg-white shadow-lg rounded-lg w-full max-w-md",children:[(0,n.jsx)("div",{className:"h-6 bg-gray-300 rounded w-3/4"}),(0,n.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/2"}),(0,n.jsx)("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),(0,n.jsx)("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),(0,n.jsx)("div",{className:"h-3 bg-gray-300 rounded-full w-full mt-4"}),(0,n.jsx)("div",{className:"h-10 bg-gray-300 rounded w-full mt-4"})]}),o=()=>{const e=(0,r.Zp)(),{user:s,role:l}=(0,i.d4)((e=>e.auth)),[o,h]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{(async()=>{try{var s;const e=await d.A.get("http://localhost:5000/api/auth/me",{withCredentials:!0});if(null===(s=e.data)||void 0===s||!s.user)throw new Error("User not found!");const l=await d.A.get("http://localhost:5000/api/payment/orders",{params:{userId:e.data.user._id},withCredentials:!0});h(l.data.orders)}catch(l){e("/login")}finally{m(!1)}})()}),[e]),u?(0,n.jsx)(c,{}):(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:(0,n.jsxs)(t.P.div,{className:"bg-white p-6 shadow-lg rounded-lg w-full max-w-md",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-center mb-4",children:"Profile"}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Name:"})," ",null===s||void 0===s?void 0:s.name]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Email:"})," ",null===s||void 0===s?void 0:s.email]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Role:"})," ",l]}),"user"===(null===s||void 0===s?void 0:s.role)&&(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("h3",{className:"font-semibold",children:"Course Progress"}),(0,n.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,n.jsx)("div",{className:"bg-green-500 h-3 rounded-full w-[60%]"})}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"60% completed"})]}),(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("h3",{className:"font-semibold",children:"\ud83d\uded2 Your Purchases"}),o.length>0?(0,n.jsx)("ul",{className:"list-disc pl-5 text-gray-700",children:o.map((e=>(0,n.jsxs)("li",{children:[e.courseTitle||"Unknown Course"," - \u20b9",e.amount]},e._id)))}):(0,n.jsx)("p",{className:"text-gray-500",children:"No purchases yet."})]})]})})}}}]);
//# sourceMappingURL=839.24608069.chunk.js.map