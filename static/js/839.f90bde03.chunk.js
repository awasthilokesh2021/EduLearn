"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[839],{839:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var l=a(43),d=a(315),r=a(213),n=a(694),t=a(3),i=a(579);const c=()=>(0,i.jsxs)("div",{className:"animate-pulse flex flex-col space-y-4 p-6 bg-white shadow-lg rounded-lg w-full max-w-md",children:[(0,i.jsx)("div",{className:"h-6 bg-gray-300 rounded w-3/4"}),(0,i.jsx)("div",{className:"h-4 bg-gray-300 rounded w-1/2"}),(0,i.jsx)("div",{className:"h-4 bg-gray-300 rounded w-2/3"}),(0,i.jsx)("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),(0,i.jsx)("div",{className:"h-3 bg-gray-300 rounded-full w-full mt-4"}),(0,i.jsx)("div",{className:"h-10 bg-gray-300 rounded w-full mt-4"})]}),o=()=>{const e=(0,d.Zp)(),{user:s,role:a}=(0,t.d4)((e=>e.auth)),[o,u]=(0,l.useState)([]),[h,m]=(0,l.useState)(!0);return(0,l.useEffect)((()=>{(async()=>{try{var s;const e=await r.A.get("https://edu-backend-2.onrender.com/api/auth/me",{withCredentials:!0});if(null===(s=e.data)||void 0===s||!s.user)throw new Error("User not found!");const a=await r.A.get("https://edu-backend-2.onrender.com/api/payment/orders",{params:{userId:e.data.user._id},withCredentials:!0});u(a.data.orders)}catch(a){e("/login")}finally{m(!1)}})()}),[e]),h?(0,i.jsx)(c,{}):(0,i.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:(0,i.jsxs)(n.P.div,{className:"bg-white p-6 shadow-lg rounded-lg w-full max-w-md",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-center mb-4",children:"Profile"}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Name:"})," ",null===s||void 0===s?void 0:s.name]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Email:"})," ",null===s||void 0===s?void 0:s.email]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("strong",{children:"Role:"})," ",a]}),"user"===(null===s||void 0===s?void 0:s.role)&&(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsx)("h3",{className:"font-semibold",children:"Course Progress"}),(0,i.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,i.jsx)("div",{className:"bg-green-500 h-3 rounded-full w-[60%]"})}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:"60% completed"})]}),(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsx)("h3",{className:"font-semibold",children:"\ud83d\uded2 Your Purchases"}),o.length>0?(0,i.jsx)("ul",{className:"list-disc pl-5 text-gray-700",children:o.map((e=>(0,i.jsxs)("li",{children:[e.courseTitle||"Unknown Course"," - \u20b9",e.amount]},e._id)))}):(0,i.jsx)("p",{className:"text-gray-500",children:"No purchases yet."})]})]})})}}}]);
//# sourceMappingURL=839.f90bde03.chunk.js.map