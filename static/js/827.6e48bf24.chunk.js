"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[827],{827:(e,r,a)=>{a.r(r),a.d(r,{default:()=>d});var t=a(43),s=a(213),l=a(579);const d=()=>{const[e,r]=(0,t.useState)([]),[a,d]=(0,t.useState)({title:"",description:"",price:"",category:"",image:""}),o=e=>{d({...a,[e.target.name]:e.target.value})};return(0,t.useEffect)((()=>{(async()=>{try{const e=await s.A.get("http://localhost:5000/api/admin/courses",{withCredentials:!0});r(e.data)}catch(e){console.error("Error fetching courses:",e)}})()}),[]),(0,l.jsxs)("div",{className:"p-5 bg-white shadow-lg rounded-md",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-4 text-blue-700",children:"\ud83d\udcda Course Management"}),(0,l.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),console.log("\u2705 Sending Course Data:",a);try{const t=await s.A.post("http://localhost:5000/api/admin/courses",a,{withCredentials:!0});console.log("\u2705 Course Added Successfully:",t.data),r([...e,t.data.course]),d({title:"",description:"",price:"",category:"",image:""})}catch(o){var l;console.error("\u274c Error Adding Course:",(null===(l=o.response)||void 0===l?void 0:l.data)||o)}},className:"mb-5 bg-gray-100 p-4 rounded",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"\u2795 Add New Course"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsx)("input",{type:"text",name:"image",placeholder:"Image URL",value:a.image,onChange:o,className:"w-full p-2 border rounded",required:!0}),(0,l.jsx)("input",{type:"text",name:"title",placeholder:"Title",value:a.title,onChange:o,className:"w-full p-2 border rounded",required:!0}),(0,l.jsx)("input",{type:"text",name:"category",placeholder:"Category",value:a.category,onChange:o,className:"w-full p-2 border rounded",required:!0}),(0,l.jsx)("input",{type:"number",name:"price",placeholder:"Price",value:a.price,onChange:o,className:"w-full p-2 border rounded",required:!0}),(0,l.jsx)("textarea",{name:"description",placeholder:"Description",value:a.description,onChange:o,className:"w-full p-2 border rounded md:col-span-2",required:!0})]}),(0,l.jsx)("button",{type:"submit",className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition w-full md:w-auto",children:"Add Course \u2705"})]}),(0,l.jsx)("div",{className:"overflow-x-auto bg-white shadow-md rounded-lg",children:(0,l.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,l.jsx)("thead",{className:"bg-gray-200",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"p-3 border",children:"Image"})," ",(0,l.jsx)("th",{className:"p-3 border",children:"Title"}),(0,l.jsx)("th",{className:"p-3 border",children:"Price"}),(0,l.jsx)("th",{className:"p-3 border",children:"Category"}),(0,l.jsx)("th",{className:"p-3 border",children:"Action"})]})}),(0,l.jsx)("tbody",{children:e.map((a=>(0,l.jsxs)("tr",{className:"text-center hover:bg-gray-100 transition",children:[(0,l.jsx)("td",{className:"p-3 border",children:(0,l.jsx)("img",{src:a.image,alt:a.title,className:"w-16 h-16 object-cover rounded-md"})}),(0,l.jsx)("td",{className:"p-3 border",children:a.title}),(0,l.jsxs)("td",{className:"p-3 border",children:["\u20b9",a.price]}),(0,l.jsx)("td",{className:"p-3 border",children:a.category}),(0,l.jsx)("td",{className:"p-3 border",children:(0,l.jsx)("button",{onClick:()=>(async a=>{try{await s.A.delete(`http://localhost:5000/api/admin/courses/${a}`,{withCredentials:!0}),r(e.filter((e=>e._id!==a)))}catch(t){console.error("Error deleting course:",t)}})(a._id),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 transition",children:"Delete"})})]},a._id)))})]})}),0===e.length&&(0,l.jsx)("p",{className:"text-gray-500 text-center mt-4",children:"No courses available."})]})}}}]);
//# sourceMappingURL=827.6e48bf24.chunk.js.map