"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[827],{827:(e,r,a)=>{a.r(r),a.d(r,{default:()=>l});var s=a(43),t=a(213),d=a(579);const l=()=>{const[e,r]=(0,s.useState)([]),[a,l]=(0,s.useState)({title:"",description:"",price:"",category:"",image:""}),o=e=>{l({...a,[e.target.name]:e.target.value})};return(0,s.useEffect)((()=>{(async()=>{try{const e=await t.A.get("https://edu-backend-2.onrender.com/api/admin/courses",{withCredentials:!0});r(e.data)}catch(e){console.error("Error fetching courses:",e)}})()}),[]),(0,d.jsxs)("div",{className:"p-5 bg-white shadow-lg rounded-md",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold mb-4 text-blue-700",children:"\ud83d\udcda Course Management"}),(0,d.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),console.log("\u2705 Sending Course Data:",a);try{const s=await t.A.post("https://edu-backend-2.onrender.com/api/admin/courses",a,{withCredentials:!0});console.log("\u2705 Course Added Successfully:",s.data),r([...e,s.data.course]),l({title:"",description:"",price:"",category:"",image:""})}catch(o){var d;console.error("\u274c Error Adding Course:",(null===(d=o.response)||void 0===d?void 0:d.data)||o)}},className:"mb-5 bg-gray-100 p-4 rounded",children:[(0,d.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"\u2795 Add New Course"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsx)("input",{type:"text",name:"image",placeholder:"Image URL",value:a.image,onChange:o,className:"w-full p-2 border rounded",required:!0}),(0,d.jsx)("input",{type:"text",name:"title",placeholder:"Title",value:a.title,onChange:o,className:"w-full p-2 border rounded",required:!0}),(0,d.jsx)("input",{type:"text",name:"category",placeholder:"Category",value:a.category,onChange:o,className:"w-full p-2 border rounded",required:!0}),(0,d.jsx)("input",{type:"number",name:"price",placeholder:"Price",value:a.price,onChange:o,className:"w-full p-2 border rounded",required:!0}),(0,d.jsx)("textarea",{name:"description",placeholder:"Description",value:a.description,onChange:o,className:"w-full p-2 border rounded md:col-span-2",required:!0})]}),(0,d.jsx)("button",{type:"submit",className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition w-full md:w-auto",children:"Add Course \u2705"})]}),(0,d.jsx)("div",{className:"overflow-x-auto bg-white shadow-md rounded-lg",children:(0,d.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,d.jsx)("thead",{className:"bg-gray-200",children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:"p-3 border",children:"Image"})," ",(0,d.jsx)("th",{className:"p-3 border",children:"Title"}),(0,d.jsx)("th",{className:"p-3 border",children:"Price"}),(0,d.jsx)("th",{className:"p-3 border",children:"Category"}),(0,d.jsx)("th",{className:"p-3 border",children:"Action"})]})}),(0,d.jsx)("tbody",{children:e.map((a=>(0,d.jsxs)("tr",{className:"text-center hover:bg-gray-100 transition",children:[(0,d.jsx)("td",{className:"p-3 border",children:(0,d.jsx)("img",{src:a.image,alt:a.title,className:"w-16 h-16 object-cover rounded-md"})}),(0,d.jsx)("td",{className:"p-3 border",children:a.title}),(0,d.jsxs)("td",{className:"p-3 border",children:["\u20b9",a.price]}),(0,d.jsx)("td",{className:"p-3 border",children:a.category}),(0,d.jsx)("td",{className:"p-3 border",children:(0,d.jsx)("button",{onClick:()=>(async a=>{try{await t.A.delete(`https://edu-backend-2.onrender.com/api/admin/courses/${a}`,{withCredentials:!0}),r(e.filter((e=>e._id!==a)))}catch(s){console.error("Error deleting course:",s)}})(a._id),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 transition",children:"Delete"})})]},a._id)))})]})}),0===e.length&&(0,d.jsx)("p",{className:"text-gray-500 text-center mt-4",children:"No courses available."})]})}}}]);
//# sourceMappingURL=827.239c82d2.chunk.js.map