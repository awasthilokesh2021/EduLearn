{"version":3,"file":"static/js/677.04646a01.chunk.js","mappings":"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","sources":["components/Dashboard/AdminDashboard.js"],"sourcesContent":["import React, { useEffect, useState, lazy, Suspense } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst AdminUsers = lazy(() => import(\"./Adminuser\"));\r\nconst AdminCourses = lazy(() => import(\"./AdminCourses\"));\r\nconst AdminContacts = lazy(() => import(\"./AdminContacts\"));\r\nconst AdminPayments = lazy(() => import(\"./AdminPayments\"));\r\n\r\nconst AdminDashboard = () => {\r\n  const [admin, setAdmin] = useState(null);\r\n  const [error, setError] = useState(\"\");\r\n  const [activeTab, setActiveTab] = useState(\"dashboard\");\r\n  const [stats, setStats] = useState({ totalUsers: 0, totalCourses: 0 });\r\n\r\n  const role = useSelector((state) => state.auth.role);;\r\n\r\n  useEffect(() => {\r\n    const checkAdmin = async () => {\r\n      try {\r\n        const res = await axios.get(\"http://localhost:5000/api/admin/dashboard\", {\r\n          withCredentials: true,\r\n        });\r\n        setAdmin(res.data.admin);\r\n      } catch (err) {\r\n        setError(err.response?.data?.error || \"Access Denied! Only Admins can access this page.\");\r\n      }\r\n    };\r\n\r\n    if (role === \"admin\") checkAdmin();\r\n  }, [role]);\r\n\r\n  useEffect(() => {\r\n    const fetchStats = async () => {\r\n      try {\r\n        const res = await axios.get(\"http://localhost:5000/api/admin/stats\", {\r\n          withCredentials: true,\r\n        });\r\n        setStats({\r\n          totalUsers: res.data.totalUsers || 0,\r\n          totalCourses: res.data.totalCourses || 0,\r\n        });\r\n      } catch (error) {\r\n        console.error(\"Error fetching stats:\", error);\r\n      }\r\n    };\r\n\r\n    fetchStats();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex\">\r\n      {/* âœ… Sidebar */}\r\n      <div className=\"w-1/4 bg-blue-900 text-white p-5\">\r\n        <h2 className=\"text-2xl font-bold mb-5\">Admin Panel</h2>\r\n        <ul className=\"space-y-3\">\r\n          {[\"dashboard\", \"users\", \"courses\", \"contacts\", \"payments\"].map((tab) => (\r\n            <li key={tab}>\r\n              <button\r\n                onClick={() => setActiveTab(tab)}\r\n                className={`w-full text-left p-2 hover:bg-blue-700 ${activeTab === tab ? \"bg-blue-700\" : \"\"}`}\r\n              >\r\n                {tab === \"dashboard\" && \"ðŸ“Š Dashboard\"}\r\n                {tab === \"users\" && \"ðŸ‘¤ Manage Users\"}\r\n                {tab === \"courses\" && \"ðŸ“š Manage Courses\"}\r\n                {tab === \"contacts\" && \"ðŸ“© Contact Queries\"}\r\n                {tab === \"payments\" && \"ðŸ’³ View Payments\"}\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n\r\n      {/* âœ… Main Content */}\r\n      <div className=\"w-3/4 p-5\">\r\n        {error ? (\r\n          <h1 className=\"text-2xl text-red-500\">{error}</h1>\r\n        ) : (\r\n          <Suspense fallback={<h1 className=\"text-blue-500 text-center\">Loading...</h1>}>\r\n            {activeTab === \"dashboard\" && (\r\n              <div>\r\n                <h1 className=\"text-3xl font-bold\">Welcome Admin: {admin?.name || \"Admin\"}</h1>\r\n                <p className=\"mt-2 text-gray-700\">Manage Users, Courses, and more...</p>\r\n                {/* âœ… Stats Cards */}\r\n                <div className=\"grid md:grid-cols-2 gap-6 mt-6\">\r\n                  <div className=\"p-4 bg-white shadow-md rounded-md\">\r\n                    <h2 className=\"text-xl font-semibold\">Total Users</h2>\r\n                    <p className=\"text-2xl\">{stats.totalUsers}</p>\r\n                  </div>\r\n                  <div className=\"p-4 bg-white shadow-md rounded-md\">\r\n                    <h2 className=\"text-xl font-semibold\">Total Courses</h2>\r\n                    <p className=\"text-2xl\">{stats.totalCourses}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n            {activeTab === \"users\" && <AdminUsers />}\r\n            {activeTab === \"courses\" && <AdminCourses />}\r\n            {activeTab === \"contacts\" && <AdminContacts />}\r\n            {activeTab === \"payments\" && <AdminPayments />}\r\n          </Suspense>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n"],"names":["AdminUsers","lazy","AdminCourses","AdminContacts","AdminPayments","AdminDashboard","admin","setAdmin","useState","error","setError","activeTab","setActiveTab","stats","setStats","totalUsers","totalCourses","role","useSelector","state","auth","useEffect","async","res","axios","get","withCredentials","data","err","_err$response","_err$response$data","response","checkAdmin","console","fetchStats","_jsxs","className","children","_jsx","map","tab","onClick","Suspense","fallback","name"],"sourceRoot":""}