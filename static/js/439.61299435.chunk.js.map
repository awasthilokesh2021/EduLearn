{"version":3,"file":"static/js/439.61299435.chunk.js","mappings":"mLAMA,MAgGA,EAhGmBA,IAAiB,IAAhB,OAAEC,GAAQD,EAC5B,MAAME,GAAWC,EAAAA,EAAAA,OACX,KAAEC,IAASC,EAAAA,EAAAA,KAAaC,GAAUA,EAAMC,QAE9CC,EAAAA,EAAAA,YAAU,KACWC,MACjB,MAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOG,IAAM,+CACbH,EAAOI,OAAQ,EACfH,SAASI,KAAKC,YAAYN,EAAO,EAEnCD,EAAY,GACX,IAsDH,OACEQ,EAAAA,EAAAA,MAACC,EAAAA,EAAOC,IAAG,CACTC,UAAU,gDACVC,WAAY,CAAEC,MAAO,MACrBC,SAAU,CAAED,MAAO,KACnBE,QAAS,CAAEC,QAAS,EAAGC,EAAG,IAC1BC,QAAS,CAAEF,QAAS,EAAGC,EAAG,GAC1BE,WAAY,CAAEC,SAAU,IAAMC,SAAA,EAE9BC,EAAAA,EAAAA,KAAA,OACElB,IAAKZ,EAAO+B,MACZC,IAAKhC,EAAOiC,MACZd,UAAU,8CAEZW,EAAAA,EAAAA,KAAA,MAAIX,UAAU,wBAAuBU,SAAE7B,EAAOiC,SAC9CH,EAAAA,EAAAA,KAAA,KAAGX,UAAU,wBAAuBU,SAAE7B,EAAOkC,YAC7CJ,EAAAA,EAAAA,KAAA,OAAKX,UAAU,OAAMU,UACnBb,EAAAA,EAAAA,MAAA,QAAMG,UAAU,0BAAyBU,SAAA,CAAC,SAAE7B,EAAOmC,YAGrDL,EAAAA,EAAAA,KAAA,UACEM,QAzEgBvB,UACpB,IAAKV,EAGH,OAFAkC,MAAM,mCACNpC,EAAS,UAIX,IACE,MAAM,KAAEqC,SAAeC,EAAAA,EAAMC,IAAI,6CAC3BC,EAAcH,EAAKI,IAEnBC,QAAiBJ,EAAAA,EAAMK,KAAK,iDAAkD,CAClFC,OAAQ7C,EAAOmC,MACfW,SAAU,MACVC,SAAU/C,EAAOgD,IACjBC,OAAQ9C,EAAK6C,OAGPE,GAAIC,EAAQ,OAAEN,EAAM,SAAEC,GAAaH,EAASL,KAE9Cc,EAAU,CACdV,IAAKD,EACLI,SACAC,WACAO,KAAM,WACNC,YAAatD,EAAOiC,MACpBkB,WACAI,QAAS1C,UACPwB,MAAM,oCACAE,EAAAA,EAAMK,KAAK,oDAAqD,CACpEK,OAAQ9C,EAAK6C,IACbD,SAAU/C,EAAOgD,IACjBH,OAAQ7C,EAAOmC,MACfqB,UAAWC,EAASC,sBAEtBzD,EAAS,aAAa,EAExB0D,QAAS,CACPN,KAAMlD,EAAKkD,KACXO,MAAOzD,EAAKyD,MACZC,QAAS,cAEXC,MAAO,CAAEC,MAAO,YAGJ,IAAIC,OAAOC,SAASb,GAC5Bc,MACR,CAAE,MAAOC,GACPC,QAAQD,MAAM,wBAAoBA,EACpC,GAyBIhD,UAAU,uEAAsEU,SACjF,cAGU,ECjEjB,EA7BmBwC,KACjB,MAAOC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,IAgBvC,OAdAjE,EAAAA,EAAAA,YAAU,KACaM,WACnB,IACE,MAAM4D,QAAYlC,EAAAA,EAAMC,IAAI,2CAC5B4B,QAAQM,IAAI,0BAAsBD,EAAInC,MACtCiC,EAAWE,EAAInC,KACjB,CAAE,MAAO6B,GACPC,QAAQD,MAAM,iCAA6BA,EAC7C,GAGFQ,EAAc,GACb,KAGD3D,EAAAA,EAAAA,MAAA,WAASG,UAAU,kBAAiBU,SAAA,EAClCC,EAAAA,EAAAA,KAAA,MAAIX,UAAU,sCAAqCU,SAAC,qBACpDC,EAAAA,EAAAA,KAAA,OAAKX,UAAU,8CAA6CU,SACzDyC,EAAQM,KAAK5E,IACZ8B,EAAAA,EAAAA,KAAC+C,EAAU,CAAkB7E,OAAQA,GAApBA,EAAOgD,WAGpB,C","sources":["components/Home/CourseCard.js","components/Home/CourseList.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst CourseCard = ({ course }) => {\r\n  const navigate = useNavigate();\r\n  const { user } = useSelector((state) => state.auth); // ✅ Redux से यूज़र लो\r\n\r\n  useEffect(() => {\r\n    const loadScript = () => {\r\n      const script = document.createElement(\"script\");\r\n      script.src = \"https://checkout.razorpay.com/v1/checkout.js\";\r\n      script.async = true;\r\n      document.body.appendChild(script);\r\n    };\r\n    loadScript();\r\n  }, []);\r\n\r\n  const handlePayment = async () => {\r\n    if (!user) {\r\n      alert(\"❌ Please login first!\");\r\n      navigate(\"/login\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const { data } = await axios.get(\"http://localhost:5000/api/payment/get-key\");\r\n      const razorpayKey = data.key;\r\n\r\n      const orderRes = await axios.post(\"http://localhost:5000/api/payment/create-order\", {\r\n        amount: course.price,\r\n        currency: \"INR\",\r\n        courseId: course._id,\r\n        userId: user._id,\r\n      });\r\n\r\n      const { id: order_id, amount, currency } = orderRes.data;\r\n\r\n      const options = {\r\n        key: razorpayKey,\r\n        amount,\r\n        currency,\r\n        name: \"EduLearn\",\r\n        description: course.title,\r\n        order_id,\r\n        handler: async (response) => {\r\n          alert(\"✅ Payment Successful!\");\r\n          await axios.post(\"http://localhost:5000/api/payment/payment-success\", {\r\n            userId: user._id,\r\n            courseId: course._id,\r\n            amount: course.price,\r\n            paymentId: response.razorpay_payment_id,\r\n          });\r\n          navigate(\"/thank-you\");\r\n        },\r\n        prefill: {\r\n          name: user.name,\r\n          email: user.email,\r\n          contact: \"8442060273\",\r\n        },\r\n        theme: { color: \"#3399cc\" },\r\n      };\r\n\r\n      const razor = new window.Razorpay(options);\r\n      razor.open();\r\n    } catch (error) {\r\n      console.error(\"❌ Payment Error:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"bg-white shadow-lg rounded-lg p-4 text-center\"\r\n      whileHover={{ scale: 1.05 }}\r\n      whileTap={{ scale: 0.95 }}\r\n      initial={{ opacity: 0, y: 50 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.5 }}\r\n    >\r\n      <img\r\n        src={course.image}\r\n        alt={course.title}\r\n        className=\"w-full h-40 object-cover rounded-md mb-4\"\r\n      />\r\n      <h3 className=\"text-lg font-semibold\">{course.title}</h3>\r\n      <p className=\"text-sm text-gray-500\">{course.category}</p>\r\n      <div className=\"mt-4\">\r\n        <span className=\"text-blue-600 font-bold\">₹{course.price}</span>\r\n      </div>\r\n\r\n      <button\r\n        onClick={handlePayment}\r\n        className=\"mt-3 bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600\"\r\n      >\r\n        Buy Now\r\n      </button>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default CourseCard;\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport CourseCard from \"./CourseCard\";\r\n\r\nconst CourseList = () => {\r\n  const [courses, setCourses] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchCourses = async () => {\r\n      try {\r\n        const res = await axios.get(\"http://localhost:5000/api/admin/courses\");\r\n        console.log(\"✅ Courses Fetched:\", res.data);\r\n        setCourses(res.data);\r\n      } catch (error) {\r\n        console.error(\"❌ Error fetching courses:\", error);\r\n      }\r\n    };\r\n\r\n    fetchCourses();\r\n  }, []);\r\n\r\n  return (\r\n    <section className=\"py-12 px-6 mt-4\">\r\n      <h2 className=\"text-3xl font-bold text-center mb-6\">Popular Courses</h2>\r\n      <div className=\"grid md:grid-cols-3 gap-6 max-w-5xl mx-auto\">\r\n        {courses.map((course) => (\r\n          <CourseCard key={course._id} course={course} />\r\n        ))}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default CourseList;\r\n\r\n"],"names":["_ref","course","navigate","useNavigate","user","useSelector","state","auth","useEffect","loadScript","script","document","createElement","src","async","body","appendChild","_jsxs","motion","div","className","whileHover","scale","whileTap","initial","opacity","y","animate","transition","duration","children","_jsx","image","alt","title","category","price","onClick","alert","data","axios","get","razorpayKey","key","orderRes","post","amount","currency","courseId","_id","userId","id","order_id","options","name","description","handler","paymentId","response","razorpay_payment_id","prefill","email","contact","theme","color","window","Razorpay","open","error","console","CourseList","courses","setCourses","useState","res","log","fetchCourses","map","CourseCard"],"sourceRoot":""}